{% extends "base.html" %}
{% load crispy_forms_tags %}

{% block title %}Resetovanje lozinke - DOI Portal{% endblock title %}

{% block bodyclass %}bg-light{% endblock bodyclass %}

{% block body %}
<div class="container">
  <div class="row justify-content-center mt-5">
    <div class="col-md-6 col-lg-4">
      <div class="card shadow">
        <div class="card-body p-4">
          <div class="text-center mb-4">
            <h2 class="card-title h4">Resetovanje lozinke</h2>
            <p class="text-muted">
              Unesite vasu email adresu i poslacemo vam link za resetovanje lozinke.
            </p>
          </div>

          {% if form.errors %}
            <div class="alert alert-danger" role="alert">
              {% for field in form %}
                {% for error in field.errors %}
                  <p class="mb-0">{{ error }}</p>
                {% endfor %}
              {% endfor %}
              {% for error in form.non_field_errors %}
                <p class="mb-0">{{ error }}</p>
              {% endfor %}
            </div>
          {% endif %}

          <form method="post" action="{% url 'account_reset_password' %}">
            {% csrf_token %}

            <div class="mb-3">
              <label for="id_email" class="form-label">Email adresa</label>
              <input type="email"
                     name="email"
                     id="id_email"
                     class="form-control {% if form.email.errors %}is-invalid{% endif %}"
                     placeholder="Unesite vasu email adresu"
                     autocomplete="email"
                     required />
              {% if form.email.errors %}
                <div class="invalid-feedback">{{ form.email.errors.0 }}</div>
              {% endif %}
            </div>

            <button type="submit" class="btn btn-primary w-100 mt-3">
              Posalji link za reset
            </button>
          </form>

          <div class="text-center mt-3">
            <a href="{% url 'account_login' %}" class="text-decoration-none">
              &larr; Nazad na prijavu
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock body %}
